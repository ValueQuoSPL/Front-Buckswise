
<div class="container">

    <mat-accordion>

        <mat-expansion-panel class="accordion" [expanded]="step === 0">

            <mat-expansion-panel-header>
                <mat-panel-title>Assets</mat-panel-title>
                <mat-panel-description> Assets Details </mat-panel-description>
            </mat-expansion-panel-header>

            <div>
        
                <mat-accordion>
                    <!-- stocks -->
                    <mat-expansion-panel class="accordion" [expanded]="step === 0">
                        <mat-expansion-panel-header>
                            <mat-panel-title> Stocks </mat-panel-title>
                            <mat-panel-description> 00 </mat-panel-description>
                        </mat-expansion-panel-header>

                        <!--start of buttons -->
                        <div class="pull-right">
                            <button type="button" class="btn btn-link"  (click)="openStocks(stocksModal)" >
                                <span>
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                    <span>Add</span>
                                </span>
                            </button>
                            <button type="button" class="btn btn-link">
                                <span>
                                    <i class="fa fa-info" aria-hidden="true"></i>
                                    <span>Help</span>
                                </span>
                            </button>
                        </div>

                        <!-- modal start -->
                        <ng-template #stocksModal let-c="close" let-d="dismiss">
                            <div class="modal-header">
                                <h4 class="modal-title" id="stocksModal">Add Stocks</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form name="editForm" role="form" novalidate   #editForm="ngForm">
                                    
                                    <mat-form-field>
                                        <input matInput class="full-width" required type="text" placeholder="Company Name" [(ngModel)]="stocks.company_name" [ngModelOptions]="{standalone: true}" >
                                    </mat-form-field> &nbsp;&nbsp;
                                    <mat-form-field>
                                        <input matInput class="full-width" required type="text" placeholder="Investor Name" [(ngModel)]="stocks.investor_name" [ngModelOptions]="{standalone: true}" >
                                    </mat-form-field> &nbsp;&nbsp;
                                    <mat-form-field>
                                        <input matInput style="width: 100%;" type="number" jhiNumberOnly placeholder="No of shares" name="no_of_shares" id="no_of_shares" [(ngModel)]="stocks.no_of_shares" required />
                                    </mat-form-field> &nbsp;&nbsp;
                                    <mat-form-field>
                                        <input matInput style="width: 100%;" type="number" jhiNumberOnly placeholder="Share Price" name="share_price" id="share_price" [(ngModel)]="stocks.share_price"required/>
                                    </mat-form-field> &nbsp;&nbsp;
                                    <mat-form-field>
                                        <input matInput style="width: 100%;" type="textarea" placeholder="Notes" name="notes" id="notes" [(ngModel)]="stocks.notes"  />
                                    </mat-form-field>

                                
                                    <div class="modal-footer">

                                        <button type="submit" class="btn btn-primary" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary"
                                        (click)="c('Save click')">
                                            <span class="fa fa-save"></span>&nbsp;
                                            <span>Save</span>
                                        </button>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="d('Cross click')">
                                            <span class="fa fa-ban"></span>&nbsp;
                                            <span>Cancel</span>
                                        </button>
                                        <button type="button" class="btn btn-warning" (click)="resetFieldValue()">
                                            <span>
                                                <i class="fas fa-sync fa-spin" aria-hidden="true"></i>
                                                <span>Reset</span>
                                            </span>
                                        </button>
                                    </div>
                                </form>
                            </div>
                                
                        </ng-template>
                       
                        <!-- table starts here -->
                        <div>
                            <table class="table table-hover table-sm">
                                <thead>
                                    <tr>
                                        <th scope="col">ID</th>

                                        <th scope="col">Company Name</th>
                                        <th scope="col">Investor Name</th>
                                        <th scope="col">No of Shares</th>
                                        <th scope="col">Share Price</th>
                                        <th scope="col">Notes</th>
                                        <th scope="col"></th>
                                    </tr>
                                </thead>
                                <tbody>

                                    <tr *ngFor="let stocks of stocksArray; let i = index">
                                        <!-- <td><a [routerLink]="['../stocks', stocks.id ]">{{stocks.id}}</a></td>
                            <td> {{stocks.id}} </td> -->
                                        <td> {{stocks.company_name}} </td>
                                        <td>{{stocks.investor_name}} </td>
                                        <td>{{stocks.no_of_shares}} </td>
                                        <td>{{stocks.share_price}} </td>
                                        <td>{{stocks.notes}} </td>
                                        <td>
                                            <button class="btn btn-default" type="button" (click)="deleteFieldValue(i)">Delete</button>
                                        </td>
                                    </tr>
                                </tbody>

                            </table>
                        </div>

                    </mat-expansion-panel>

                    <!-- Mutual funds -->
                    <mat-expansion-panel >
                        <mat-expansion-panel-header>
                            <mat-panel-title> Mutual Funds </mat-panel-title>
                            <mat-panel-description> 00 </mat-panel-description>
                        </mat-expansion-panel-header>

                        <!--start of buttons -->
                        <div class="pull-right">
                            <button type="button" class="btn btn-link" (click)="openMutual(mutualModal)" >
                                <span>
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                    <span>Add</span>
                                </span>
                            </button>
                            <button type="button" class="btn btn-link">
                                <span>
                                    <i class="fa fa-info" aria-hidden="true"></i>
                                    <span>Help</span>
                                </span>
                            </button>
                        </div>

                        <!-- modal start -->
                        <ng-template #mutualModal let-c="close" let-d="dismiss">
                            <div class="modal-header">
                                <h4 class="modal-title" id="mutualModal">Mutual Funds</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body ">
                                <div class=" rowjustify-content-center">
                                        <form name="editForm" role="form" novalidate  #editForm="ngForm">
                                    
                                                <div class="form-group">
                                                        <mat-form-field style="width: 90%;">
                                                            <input matInput placeholder="ID" type="text" id="id" name="id" [(ngModel)]="mutualfund.id" [ngModelOptions]="{standalone: true}"/>
                                                        </mat-form-field>
                                                </div>
                                                <div class="form-group">
                                                    <mat-form-field style="width: 90%;">
                                                        <input matInput type="text" 
                                                        placeholder="Fund Name"  name="fund_name" id="field_fund_name" [(ngModel)]="mutualfund.fund_name" [ngModelOptions]="{standalone: true}" required>
                                                    </mat-form-field>
                                                </div>
                                                <div class="form-group">
                                                    <mat-form-field style="width: 90%;">
                                                        <input matInput type="text" name="investor_name" placeholder="Investor Name" id="field_investor_name" [(ngModel)]="mutualfund.investor_name" [ngModelOptions]="{standalone: true}" required/>
                                                    </mat-form-field>
                                                </div>
                                                <div class="form-group">
                                                    <mat-form-field style="width: 90%;">
                                                        <input matInput type="text" placeholder="Select Date"  [(ngModel)]="mutualfund.p_date" [ngModelOptions]="{standalone: true}" bsDatepicker required>
                                                    </mat-form-field>
                                                </div>
                                                <div class="form-group">
                                                    <mat-form-field style="width: 90%;">
                                                        <input matInput jhiNumberOnly type="number" placeholder="No of units"  name="no_of_units" id="field_no_of_units" [(ngModel)]="mutualfund.no_of_units" [ngModelOptions]="{standalone: true}" required />
                                                    </mat-form-field>
                                                </div>
                                                <div class="form-group">
                                                    <mat-form-field style="width: 90%;">
                                                        <input matInput  type="text" placeholder="NAV"  name="nav" id="field_no_of_units" [(ngModel)]="mutualfund.nav" [ngModelOptions]="{standalone: true}" required />
                                                    </mat-form-field>
                                                </div>
                                                
                                                <div class="modal-footer">
                                                    <button type="submit" class="btn btn-secondary" data-dismiss="modal" (click)="d('Cross click')">
                                                        <span class="fa fa-ban"></span>&nbsp;
                                                        <span>Cancel</span>
                                                    </button>
                                                    <button type="submit" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary" data-dismiss="modal"
                                                    (click)="c('Save click')">
                                                        <span class="fa fa-save"></span>&nbsp;
                                                        <span>Save</span>
                                                    </button>
                                                </div>
                                            </form>
                                </div>
                                
                            </div>
                        </ng-template> 

                        <!-- table starts here -->
                        <table class="table table-hover table-sm">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Fund Name</th>
                                    <th scope="col">Investor Name</th>
                                    <th scope="col">Purchase Date</th>
                                    <th scope="col">No Of Units</th>
                                    <th scope="col">Nav</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let mf of mutualfundArray; let i = index">
                                    <!-- <td> {{mf.id}} </td> -->
                                    <td> {{mf.fund_name}} </td>
                                    <td>{{mf.investor_name}} </td>
                                    <td>{{mf.p_date}} </td>
                                    <td>{{mf.no_of_units}} </td>
                                    <td>{{mf.nav}} </td>
                                    <td>
                                        <button class="btn btn-default" type="button" (click)="deleteFieldValue(i)">Delete</button>
                                    </td>
                                </tr>
                            </tbody>

                            </table>

                    </mat-expansion-panel>

                    <!-- Saving Schemes -->
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title> Saving Schemes </mat-panel-title>
                            <mat-panel-description> 00 </mat-panel-description>
                        </mat-expansion-panel-header>

                        <!--start of buttons -->
                        <div class="pull-right">
                            <button type="button" class="btn btn-link" (click)="openSaving(savingModal)" >
                                <span>
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                    <span>Add</span>
                                </span>
                            </button>
                            <button type="button" class="btn btn-link">
                                <span>
                                    <i class="fa fa-info" aria-hidden="true"></i>
                                    <span>Help</span>
                                </span>
                            </button>
                        </div>

                         <!-- modal start -->
                         <ng-template #savingModal let-c="close" let-d="dismiss">
                            <div class="modal-header">
                                <h4 class="modal-title" id="savingModal">Saving Schemes</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form name="editForm" role="form" novalidate  #editForm="ngForm">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text" placeholder="ID"  id="id" name="id" [(ngModel)]="savingScheme.id" [ngModelOptions]="{standalone: true}"/>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <mat-select placeholder="Choose Saving Scheme" [(ngModel)]="savingScheme.scheme_type"  name="scheme_type">
                                                    <mat-option *ngFor="let scheme of schemesArray" [value]="scheme.viewValue">
                                                    {{scheme.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text" placeholder="Investor Name" name="investor_name" id="field_investor_name" [(ngModel)]="savingScheme.investor_name"
                                                [ngModelOptions]="{standalone: true}" required/>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput jhiNumberOnly type="number" placeholder="Rate of Interest" name="rate_of_interest" id="field_rate_of_interest" [(ngModel)]="savingScheme.rate_of_interest" [ngModelOptions]="{standalone: true}"
                                                required/>    
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                    <input matInput type="text" placeholder="Start Date"  [(ngModel)]="savingScheme.start_date" [ngModelOptions]="{standalone: true}"
                                                    bsDatepicker>
    
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                    <input matInput type="number" placeholder="Fund Value" name="fund_value" id="field_fund_value" [(ngModel)]="savingScheme.fund_value"
                                                    [ngModelOptions]="{standalone: true}" required />
            
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-6">
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text" placeholder="Organisation Name" name="organisation_name" id="field_organisation_name" [(ngModel)]="savingScheme.organisation_name" 
                                                required>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <mat-select placeholder="Choose Divident Type" [(ngModel)]="savingScheme.dividend_type" name="dividend_type">
                                                    <mat-option *ngFor="let type of dividendArray" [value]="type.name">
                                                    {{type.name}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="number" placeholder="Amount Invested" name="amount_invested" id="field_amount_invested" [(ngModel)]="savingScheme.amount_invested" [ngModelOptions]="{standalone: true}"
                                                required/>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="number" placeholder="Tenure in Years" name="tenure" id="field_tenure" [(ngModel)]="savingScheme.tenure" [ngModelOptions]="{standalone: true}"
                                                required/>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                    <input matInput type="text" placeholder="End Date"  [(ngModel)]="mutualfund.end_date" [ngModelOptions]="{standalone: true}"
                                                    bsDatepicker>
        
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                    <input matInput type="text" placeholder="As of Date"  [(ngModel)]="savingScheme.as_of_date" [ngModelOptions]="{standalone: true}"
                                                    bsDatepicker>
            
                                            </mat-form-field>

                                        </div>
                                    </div>

                                    <div class="modal-footer">

                                        <button type="submit" class="btn btn-primary" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary"
                                        (click)="c('Save click')">
                                            <span class="fa fa-save"></span>&nbsp;
                                            <span>Save</span>
                                        </button>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="d('Cross click')">
                                            <span class="fa fa-ban"></span>&nbsp;
                                            <span>Cancel</span>
                                        </button>
                                       
                                    </div> <!-- footer -->
                                </form>
                            </div> <!-- body -->
                        </ng-template>

                        <!-- table -->
                        <table class="table table-hover table-sm">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Organisation Name</th>
                                    <th scope="col">Investor Name</th>
                                    <th scope="col"> Amount Invested</th>
                                    
                                    <th scope="col">ROI(%)</th>
                                    <th scope="col">Current Fund Value</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let savingScheme of savingArray; let i = index">
                                    <!-- <td> {{fao.id}} </td> -->
                                    <td> {{savingScheme.id}} </td>
                                    <td>{{savingScheme.organisation_name}} </td>
                                    <td>{{savingScheme.investor_name}} </td>
                                    <td>{{savingScheme.amount_invested}} </td>
                                    <td>{{savingScheme.rate_of_interest}} </td>
                                    <td>{{savingScheme.fund_value}} </td>
                                    <td>
                                        <button class="btn btn-default" type="button" (click)="deleteFieldValue(i)">Delete</button>
                                    </td>
                                </tr>
                            </tbody>

                        </table>

                    </mat-expansion-panel>

                    <!-- Alternative Investment -->
                    <mat-expansion-panel >
                        <mat-expansion-panel-header>
                            <mat-panel-title> Alternative Investment </mat-panel-title>
                            <mat-panel-description> 00 </mat-panel-description>
                        </mat-expansion-panel-header>

                        <!--start of buttons -->
                        <div class="pull-right">
                            <button type="button" class="btn btn-link" (click)="openAlt(altModal)" >
                                <span>
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                    <span>Add</span>
                                </span>
                            </button>
                            <button type="button" class="btn btn-link">
                                <span>
                                    <i class="fa fa-info" aria-hidden="true"></i>
                                    <span>Help</span>
                                </span>
                            </button>
                        </div>

                        <!-- modal start -->
                         <ng-template #altModal let-c="close" let-d="dismiss">
                            <div class="modal-header">
                                <h4 class="modal-title" id="altModal">Alternative Investment</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form name="editForm" role="form" novalidate  #editForm="ngForm">
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text"  id="field_id" name="id" [(ngModel)]="altInvest.id" [ngModelOptions]="{standalone: true}" placeholder="ID"  />
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text"  name="fund_name" id="field_fund_name" [(ngModel)]="altInvest.fund_name" [ngModelOptions]="{standalone: true}" required placeholder="Fund Name">
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text"  name="investor_name" id="field_investor_name" [(ngModel)]="altInvest.investor_name" [ngModelOptions]="{standalone: true}" required placeholder="Investor Name"/>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text" placeholder="Purchase Date"  [(ngModel)]="altInvest.p_date" [ngModelOptions]="{standalone: true}" bsDatepicker>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-6">
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="number" placeholder="Amount Invested"  name="amount_invested" id="field_amount_invested" [(ngModel)]="altInvest.amount_invested" [ngModelOptions]="{standalone: true}" required/>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="number" placeholder="Market Value" name="market_value" id="field_market_value" [(ngModel)]="altInvest.market_value" [ngModelOptions]="{standalone: true}" required />
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text" placeholder="As of Date"  [(ngModel)]="altInvest.as_of_date" [ngModelOptions]="{standalone: true}"  bsDatepicker>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="textarea" placeholder="Notes" name="notes" id="field_notes" [(ngModel)]="altInvest.notes">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    

                                <div class="modal-footer">

                                    <button type="submit" class="btn btn-primary" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary"
                                    (click)="c('Save click')">
                                        <span class="fa fa-save"></span>&nbsp;
                                        <span>Save</span>
                                    </button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="d('Cross click')">
                                        <span class="fa fa-ban"></span>&nbsp;
                                        <span>Cancel</span>
                                    </button>
                                    
                                </div> <!-- footer -->
                                </form>
                            </div> <!-- body -->
                        </ng-template>

                        <!-- table -->
                        <table class="table table-hover table-sm">
                            <thead>
                                <tr>
                                    <th scope="col">Investor Name</th>
                                    <th scope="col"> Amount Invested</th>
                                    <th scope="col">Current Market Value</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let altInvest of altInvestArray; let i = index">
                                    <!-- <td> {{fao.id}} </td> -->
                                    <td> {{altInvest.investor_name}} </td>
                                    <td>{{altInvest.amount_invested}} </td>
                                    <td>{{altInvest.market_value}} </td>
                                    <td>
                                        <button class="btn btn-default" type="button" (click)="deleteFieldValue(i)">Delete</button>
                                    </td>
                                </tr>
                            </tbody>

                        </table>

                    </mat-expansion-panel>

                    <!-- Cash -->
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title> Cash </mat-panel-title>
                            <mat-panel-description> 00 </mat-panel-description>
                        </mat-expansion-panel-header>

                        <!--start of buttons -->
                        <div class="pull-right">
                            <button type="button" class="btn btn-link" (click)="openCash(cashModal)" >
                                <span>
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                    <span>Add</span>
                                </span>
                            </button>
                            <button type="button" class="btn btn-link">
                                <span>
                                    <i class="fa fa-info" aria-hidden="true"></i>
                                    <span>Help</span>
                                </span>
                            </button>
                        </div>

                        <!-- modal start -->
                         <ng-template #cashModal let-c="close" let-d="dismiss">
                            <div class="modal-header">
                                <h4 class="modal-title" id="cashModal">Cash Investment</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form name="editForm" role="form" novalidate  #editForm="ngForm">
                                
                                    <mat-form-field style="width: 100%;">
                                        <mat-select name="cash_source" [(ngModel)]="cash.cash_source" placeholder="Cash Source">
                                            <mat-option>In Bank</mat-option>
                                            <mat-option>Personal Possession</mat-option>
                                            <mat-option>Hand loan</mat-option>
                                            <mat-option>Other Sources</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field style="width: 100%;">
                                        <input matInput jhiNumberOnly type="number" placeholder="Amount" name="amount" id="amount" [(ngModel)]="cash.amount" [ngModelOptions]="{standalone: true}"required/>    
                                    </mat-form-field> <br>
                                    <mat-form-field style="width: 100%;">
                                        <input matInput type="text" placeholder="Notes" name="notes" id="notes" [(ngModel)]="cash.notes" [ngModelOptions]="{standalone: true}"/>
                                    </mat-form-field>

                                    <div class="modal-footer">

                                        <button type="submit" class="btn btn-primary" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary"
                                        (click)="c('Save click')">
                                            <span class="fa fa-save"></span>&nbsp;
                                            <span>Save</span>
                                        </button>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="d('Cross click')">
                                            <span class="fa fa-ban"></span>&nbsp;
                                            <span>Cancel</span>
                                        </button>
                                       
                                    </div> <!-- footer -->
                                </form>
                            </div> <!-- body -->
                        </ng-template>

                         <!-- table  -->
                        <table class="table table-hover table-sm">
                            <thead>
                                <tr>
                                    <th scope="col">Cash Source</th>
                                    <th scope="col"> Amount</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let cash of cashArray; let i = index">
                                    <td> {{cash.cash_source}} </td>
                                    <td>{{cash.amount}} </td>
                                    <td>
                                        <button class="btn btn-default" type="button" (click)="deleteFieldValue(i)">Delete</button>
                                    </td>
                                </tr>
                            </tbody>

                        </table>

                    </mat-expansion-panel>

                    <!-- Property -->
                    <mat-expansion-panel >
                        <mat-expansion-panel-header>
                            <mat-panel-title> Property, Jewellery & Others </mat-panel-title>
                            <mat-panel-description> 00 </mat-panel-description>
                        </mat-expansion-panel-header>

                        <!--start of buttons -->
                        <div class="pull-right">
                            <button type="button" class="btn btn-link" (click)="openProperty(propertyModal)" >
                                <span>
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                    <span>Add</span>
                                </span>
                            </button>
                            <button type="button" class="btn btn-link">
                                <span>
                                    <i class="fa fa-info" aria-hidden="true"></i>
                                    <span>Help</span>
                                </span>
                            </button>
                        </div>

                        <!-- modal start -->
                        <ng-template #propertyModal let-c="close" let-d="dismiss">
                            <div class="modal-header">
                                <h4 class="modal-title" id="propertyModal">Property, Jewellery etc.</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form name="editForm" role="form" novalidate  #editForm="ngForm">
                                    <mat-form-field style="width: 100%;">
                                            <input matInput placeholder="Property Name" type="text"  name="prop_name" id="prop_name" [(ngModel)]="prop.prop_name" [ngModelOptions]="{standalone: true}"                                        />
                                    </mat-form-field>
                                    <mat-form-field style="width: 100%;">
                                        <mat-select name="field_prop_type" [(ngModel)]="prop.prop_type" placeholder="Property Type">
                                            <mat-option>Residential</mat-option>
                                            <mat-option>Commercial</mat-option>
                                            <mat-option>Agriculture</mat-option>
                                            <mat-option>Vehicle</mat-option>
                                            <mat-option>Jewellery</mat-option>
                                            <mat-option>Others</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field style="width: 100%;">
                                        <mat-select name="prop_details" placeholder="Property Details" [(ngModel)]="prop.prop_details">
                                            <mat-option>Commercial Office/Retail</mat-option>
                                            <mat-option>Apartments</mat-option>
                                            <mat-option>Individual villa/house</mat-option>
                                            <mat-option>Land</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field style="width: 100%;">
                                            <input matInput placeholder="Current Value" type="number"   name="current_m_value" id="field_current_m_value" [(ngModel)]="prop.current_m_value"
                                        [ngModelOptions]="{standalone: true}" required />
                                    </mat-form-field>
                                    <mat-form-field style="width: 100%;">
                                            <input matInput  placeholder="As of Date" type="text"  [(ngModel)]="prop.as_of_date" [ngModelOptions]="{standalone: true}"
                                            bsDatepicker>
                                        </mat-form-field>
                                    <mat-form-field style="width: 100%;">
                                        <input matInput placeholder="Notes" type="textarea"  name="notes" id="notes" [(ngModel)]="prop.notes" [ngModelOptions]="{standalone: true}"/>
                                    </mat-form-field>
                                    

                                    <div class="modal-footer">

                                        <button type="submit" class="btn btn-primary" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary"
                                        (click)="c('Save click')">
                                            <span class="fa fa-save"></span>&nbsp;
                                            <span>Save</span>
                                        </button>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="d('Cross click')">
                                            <span class="fa fa-ban"></span>&nbsp;
                                            <span>Cancel</span>
                                        </button>
                                       
                                    </div> <!-- footer -->
                                </form>
                            </div> <!-- body -->
                        </ng-template>

                         <!-- table starts here -->
                         <table class="table table-hover table-sm">
                                <thead>
                                    <tr>
                                        <th scope="col">Property Name</th>
                                        <th scope="col">Property Type</th>
                                        <th scope="col">Current Market Value</th>
                                        <th scope="col">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let prop of propArray; let i = index">
                                        <!-- <td> {{fao.id}} </td> -->
                                        <td> {{prop.prop_name}} </td>
                                        <td>{{prop.prop_type}} </td>
                                        <td>{{prop.current_m_value}} </td>
                                        <td>
                                            <button class="btn btn-default" type="button" (click)="deleteFieldValue(i)">Delete</button>
                                        </td>
                                    </tr>
                                </tbody>

                            </table>

                    </mat-expansion-panel>

                    <!-- Chit -->
                    <mat-expansion-panel >
                        <mat-expansion-panel-header>
                            <mat-panel-title> Chit Funds </mat-panel-title>
                            <mat-panel-description> 00 </mat-panel-description>
                        </mat-expansion-panel-header>

                        <!--start of buttons -->
                        <div class="pull-right">
                            <button type="button" class="btn btn-link" (click)="openChit(chitModal)" >
                                <span>
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                    <span>Add</span>
                                </span>
                            </button>
                            <button type="button" class="btn btn-link">
                                <span>
                                    <i class="fa fa-info" aria-hidden="true"></i>
                                    <span>Help</span>
                                </span>
                            </button>
                        </div>

                        <!-- modal start -->
                        <ng-template #chitModal let-c="close" let-d="dismiss">
                            <div class="modal-header">
                                <h4 class="modal-title" id="chitModal">Chit Funds</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form name="editForm" role="form" novalidate  #editForm="ngForm">
                                
                                    <div class="row">
                                        <div class="col-md-6">
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text" placeholder="Chit Fund Name"  name="chit_name" id="chit_name" [(ngModel)]="chit.chit_name" [ngModelOptions]="{standalone: true}"/>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text" placeholder="Chit Holder Name"  name="chit_holder_name" id="chit_holder_name" [(ngModel)]="chit.chit_holder_name" [ngModelOptions]="{standalone: true}"/>
                                            </mat-form-field >
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text" placeholder="Chit Start Date"   [(ngModel)]="chit.chit_start_date" [ngModelOptions]="{standalone: true}"bsDatepicker>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="number" placeholder="Chit Value"  name="chit_value" id="chit_value" [(ngModel)]="chit.chit_value" [ngModelOptions]="{standalone: true}"/>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-6">
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="number" placeholder="Tenure (Months)"  name="tenure" id="tenure" [(ngModel)]="chit.tenure" [ngModelOptions]="{standalone: true}"/>
                                            </mat-form-field >
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="number" placeholder="Monthly Paymrnt"  name="m_payment" id="m_payment" [(ngModel)]="chit.m_payment" [ngModelOptions]="{standalone: true}"/>
                                            </mat-form-field >
                                            <mat-form-field style="width: 100%;">
                                                <input matInput type="text" placeholder="Current value"  name="current_value" id="current_value" [(ngModel)]="chit.current_value" [ngModelOptions]="{standalone: true}" />
                                            </mat-form-field>
                                        
                                            <mat-checkbox name="isCashed" id="isCashed" [(ngModel)]="chit.isCashed"> Is Cashed? </mat-checkbox>
                                            
                                        </div>
                                    </div>
                                    <mat-form-field style="width: 100%;">
                                        <textarea matInput  placeholder="Notes" name="notes" id="notes" [(ngModel)]="chit.notes" ></textarea>
                                    </mat-form-field>

                                    <div class="modal-footer">

                                        <button type="submit" class="btn btn-primary" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary"
                                        (click)="c('Save click')">
                                            <span class="fa fa-save"></span>&nbsp;
                                            <span>Save</span>
                                        </button>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="d('Cross click')">
                                            <span class="fa fa-ban"></span>&nbsp;
                                            <span>Cancel</span>
                                        </button>
                                       
                                    </div> <!-- footer -->
                                </form>
                            </div> <!-- body -->
                        </ng-template>    
                        
                        <!-- table -->
                        <table class="table table-hover table-sm">
                            <thead>
                                <tr>
                                    <th scope="col">Chit Fund Name</th>
                                    <th scope="col">Chit Holder Name</th>
                                    <th scope="col">Chit Start date</th>
                                    <th scope="col">Chit Value</th>
                                    <th scope="col">Tenure (Months)</th>
                                    <th scope="col">Monthly Payment</th>
                                    <th scope="col">Current Value</th>
                                    <th scope="col">Chit Value Cashed?</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let chit of chitArray; let i = index">
                                    <!-- <td> {{fao.id}} </td> -->
                                    <td> {{chit.chit_name}} </td>
                                    <td>{{chit.chit_holder_name}} </td>
                                    <td>{{chit.chit_start_date| date : 'shortDate'}} </td>
                                    <td>{{chit.chit_value}} </td>
                                    <td>{{chit.tenure}} </td>
                                    <td>{{chit.m_payment}} </td>
                                    <td>{{chit.current_value}} </td>
                                    <td>{{chit.isCashed}} </td>
                                    <td>
                                        <button class="btn btn-default" type="button" (click)="deleteFieldValue(i)">Delete</button>
                                    </td>
                                </tr>
                            </tbody>
            
                        </table>

                    </mat-expansion-panel>

                    <!-- Future and Options -->
                    <mat-expansion-panel >
                        <mat-expansion-panel-header>
                            <mat-panel-title> Future and Options </mat-panel-title>
                            <mat-panel-description> 00 </mat-panel-description>
                        </mat-expansion-panel-header>

                         <!--start of buttons -->
                        <div class="pull-right">
                            <button type="button" class="btn btn-link" (click)="openFuture(futureModal)" >
                                <span>
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                    <span>Add</span>
                                </span>
                            </button>
                            <button type="button" class="btn btn-link">
                                <span>
                                    <i class="fa fa-info" aria-hidden="true"></i>
                                    <span>Help</span>
                                </span>
                            </button>
                        </div>

                        <!-- modal start -->
                        <ng-template #futureModal let-c="close" let-d="dismiss">
                            <div class="modal-header">
                                <h4 class="modal-title" id="futureModal">Future and Options</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>

                            <div class="modal-body">
                                <form name="editForm" role="form" novalidate  #editForm="ngForm">
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <mat-form-field style="width: 100%;">
                                                <input matInput required placeholder="ID" [(ngModel)]="fao.id" [ngModelOptions]="{standalone: true}">
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput required placeholder="Investment Type" name="investment_type" id="field_investment_type" [(ngModel)]="fao.investment_type">
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput required placeholder="Asset Type" name="asset_type" id="field_asset_type" [(ngModel)]="fao.asset_type">
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput required placeholder="Investor Name" name="investor_name" id="field_investor_name" [(ngModel)]="fao.investor_name">
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput required placeholder="Asset Name" name="asset_name" id="field_asset_name" [(ngModel)]="fao.asset_name">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-6">
                                            <mat-form-field style="width: 100%;">
                                                <input matInput required placeholder="No of Contracts" name="no_of_contracts" id="field_no_of_contracts" [(ngModel)]="fao.no_of_contracts">
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput required placeholder="Purchase Date" [(ngModel)]="fao.p_date" [ngModelOptions]="{standalone: true}" bsDatepicker>
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput required placeholder="contract Purchase Value" name="contract_p_value" id="field_contract_p_value" [(ngModel)]="fao.contract_p_value">
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput required placeholder="contract Market Value" name="contract_m_value" id="field_contract_m_value" [(ngModel)]="fao.contract_m_value">
                                            </mat-form-field>
                                            <mat-form-field style="width: 100%;">
                                                <input matInput required placeholder="As of Date" [(ngModel)]="fao.as_of_date" [ngModelOptions]="{standalone: true}"
                                                bsDatepicker>
                                            </mat-form-field>

                                        </div>
                                    </div>
                                    <mat-form-field style="width: 100%;">
                                        <textarea matInput placeholder="Notes" type="text"   name="notes" id="field_notes" [(ngModel)]="fao.notes" [ngModelOptions]="{standalone: true}"></textarea>
                                    </mat-form-field>

                                    <div class="modal-footer">

                                        <button type="submit" class="btn btn-primary" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary"
                                        (click)="c('Save click')">
                                            <span class="fa fa-save"></span>&nbsp;
                                            <span>Save</span>
                                        </button>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="d('Cross click')">
                                            <span class="fa fa-ban"></span>&nbsp;
                                            <span>Cancel</span>
                                        </button>
                                       
                                    </div> <!-- footer -->
                                </form>
                            </div> <!-- body -->
                        </ng-template>     
                        
                        <!-- table -->
                        <table class="table table-hover table-sm">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Investment Type</th>
                                    <th scope="col">Asset Type</th>
                                    <th scope="col">Investor Name</th>
                                    <th scope="col">Asset Name</th>
                                    <th scope="col">No. Of Contracts</th>
                                    <th scope="col">Purchase Date</th>
                                    <th scope="col">Contract Purchase Value</th>
                                    <th scope="col">Contract Market Value</th>
                                    <th scope="col">as of date</th>
                                    <th scope="col">Notes</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let fao of faoArray; let i = index">
                                    <!-- <td> {{fao.id}} </td> -->
                                    <td> {{fao.investment_type}} </td>
                                    <td>{{fao.asset_type}} </td>
                                    <td>{{fao.investor_name}} </td>
                                    <td>{{fao.asset_name}} </td>
                                    <td>{{fao.no_of_contracts}} </td>
                                    <td>{{fao.p_date}} </td>
                                    <td>{{fao.contract_p_value}} </td>
                                    <td>{{fao.contract_m_value}} </td>
                                    <td>{{fao.as_of_date}} </td>
                                    <td>{{fao.notes}} </td>
                                    <td>
                                        <button class="btn btn-default" type="button" (click)="deleteFieldValue(i)">Delete</button>
                                    </td>
                                </tr>
                            </tbody>

                        </table>

                    </mat-expansion-panel>

                </mat-accordion>

            </div>
        </mat-expansion-panel>
    </mat-accordion>
</div>